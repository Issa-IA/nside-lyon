<?xml-stylesheet type="text/xsl" href="TrierPersonnes.xsl"?>
<odoo>
 <report
                        id="report_fiche_suivie"
                        model="project.task"
                        string="Fiche de suivie"
                        name="eeg_intervention.fiche_suivie"
                        file="eeg_intervention.fiche_suivie"
                        report_type="qweb-pdf"

        />
<template id="fiche_suivie">
     <t t-call="web.html_container">
     <t t-call="web.external_layout">
     <t t-foreach="docs" t-as="doc">
           <div class="page">
        <div class="text-center"><h1>DETAIL PAR MODELE</h1></div>
                   <table class="table o_report_block_table">
      <thead>
        <tr style="background-color:#b64654; text-color:white;">
          <th rowspan="2">
            <span>MODELE EEG</span>
          </th>
          <th rowspan="2">
            <span>OK TEST SEUL</span>
          </th>
          <th rowspan="2">
            <span>OK PILES + TEST</span>
          </th>
          <th colspan="4">HS</th>
          <th rowspan="2">
            <span>ILLISIBLE</span>
          </th>
          <th colspan="2">CASSEES</th>
        </tr>
        <tr style="background-color:#b64654; text-color:white;">
          <td>
            <span>code erreur</span>
          </td>
          <td>
            <span>affichage défectueux</span>
          </td>
          <td>
            <span>Activation</span>
          </td>
          <td>
            <span>Piles</span>
          </td>
          <td>
            <span>esthétique**</span>
          </td>
          <td>
            <span>cassée</span>
          </td>
        </tr>
      </thead>
      <tbody>

            <tr>

          <td>
            <span>150E</span>
          </td>
                  <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                 <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>

          <tr>

          <td>
            <span>210EA</span>
          </td>
               <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
               <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>

        <tr>

          <td>
            <span>210EF</span>
          </td>
             <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
              <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
        <tr>
             <td>
            <span>420E</span>
          </td>
            <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
              <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '420E'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>580E</span>
          </td>
              <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '580E'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>150E CC4U</span>
          </td>
           <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150E CC4U'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>210EA CC4U</span>
          </td>
           <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EA CC4U'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>210EF CC4U</span>
          </td>
           <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '210EF CC4U'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>150W</span>
          </td>
          <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '150W'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>250WA</span>
          </td>
           <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WA'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>250WF</span>
          </td>
           <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>     <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '250WF'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>
                <tr>
             <td>
            <span>400W</span>
          </td>
           <t t-set="total_test" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="total_test" t-value="total_test + line.test"/>

                   </t>
                      <td>
                   <t t-esc="total_test"/>
                        </td>

              <t t-set="pile_test" t-value="0"/>

                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="pile_test" t-value="pile_test + line.pile_test"/>

                   </t>
                      <td>
                   <t t-esc="pile_test"/>
                        </td>     <t t-set="code_erreur" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="code_erreur" t-value="code_erreur + line.code_erreur"/>

                   </t>
                      <td>
                   <t t-esc="code_erreur"/>
                        </td>    <t t-set="affichage_defectueux" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="affichage_defectueux" t-value="affichage_defectueux + line.affichage_defectueux"/>

                   </t>
                      <td>
                   <t t-esc="affichage_defectueux"/>
                        </td>

                         <t t-set="activation" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="activation" t-value="activation + line.activation"/>

                   </t>
                      <td>
                   <t t-esc="activation"/>
                        </td>
                    <t t-set="piles" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="piles" t-value="piles + line.piles"/>

                   </t>
                      <td>
                   <t t-esc="piles"/>
                        </td>

                        <td/>
                        <t t-set="esthetique" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="esthetique" t-value="esthetique + line.esthetique"/>

                   </t>
                      <td>
                   <t t-esc="esthetique"/>
                        </td>
                      <t t-set="cassees" t-value="0"/>
                    <t t-foreach="set(doc.intervention_ids.filtered(lambda line: line.etiquette_id.name == '400W'))" t-as="line">
                         <t t-set="cassees" t-value="cassees + line.cassees"/>

                   </t>
                      <td>
                   <t t-esc="cassees"/>
                        </td>
        </tr>

      </tbody>
    </table>

           </div>
     </t>
     </t>
     </t>
</template>
</odoo>